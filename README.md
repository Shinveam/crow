<p align="center">
  <img src="assets/logo.png" width="200" />
</p>

[![Golang 1.24.2+](https://img.shields.io/badge/Golang-1.24.2+-blue.svg)](https://www.python.org/downloads/) [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)  ![Alpha](https://img.shields.io/badge/Status-Alpha-red)

 ä¸­æ–‡ | [English](README_en.md) 

## ğŸ¦â€â¬› Crow - æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹æœåŠ¡

**å¦‚ä¹Œé¸¦èˆ¬æ™ºæ…§çµå·§ï¼Œç”¨å£°éŸ³è¿æ¥ä¸–ç•Œ**  

Crow æ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„å¼€æºè¯­éŸ³åŠ©æ‰‹æœåŠ¡ï¼ˆAI Agentï¼‰ï¼Œæ”¯æŒè¯­éŸ³å¯¹è¯ã€å¤§æ¨¡å‹å‡½æ•°è°ƒç”¨ï¼ˆFunction Callingï¼‰å’Œè‡ªå®šä¹‰ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æœåŠ¡è°ƒåº¦ï¼Œä¸ºå¼€å‘è€…æä¾›è¯­éŸ³é©±åŠ¨çš„ AI Agent å®ç°æ€è·¯ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **è¯­éŸ³å¯¹è¯**ï¼šæ”¯æŒå®æ—¶è¯­éŸ³è¯†åˆ«ä¸åˆæˆï¼Œèµ‹äºˆ AI è‡ªç„¶äº¤äº’çš„èƒ½åŠ›ã€‚

- **å¤§æ¨¡å‹å‡½æ•°è°ƒç”¨**ï¼šæ”¯æŒå¤§æ¨¡å‹å‡½æ•°è°ƒç”¨ï¼Œæ”¯æŒè‡ªå®šä¹‰å‡½æ•°ã€‚

- **è‡ªå®šä¹‰ MCP æœåŠ¡è°ƒåº¦**ï¼šæ”¯æŒè‡ªå®šä¹‰ MCP æœåŠ¡è°ƒåº¦ã€‚

### ğŸ¤” ä¸ºä»€ä¹ˆå‘½å Crow

Crowï¼Œå³ã€Œä¹Œé¸¦ã€ï¼Œä¹Œé¸¦æ˜¯è‡ªç„¶ç•Œä¸­å°‘æœ‰çš„èƒ½ä½¿ç”¨å·¥å…·ã€æ‹¥æœ‰é«˜çº§æ™ºæ…§çš„é¸Ÿç±»ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­å¯“æ„ï¼š

- **èƒ½è¯´**ï¼šä½¿ç”¨å®æ—¶è¯­éŸ³è¯†åˆ«å’Œåˆæˆï¼Œå®ç°è¯­éŸ³å¯¹è¯ï¼Œå¦‚ä¹Œé¸¦èˆ¬è‡ªç„¶ã€‚

- **èªæ…§**ï¼šæ•´åˆå¤§æ¨¡å‹å®ç°å¤æ‚å†³ç­–ï¼Œå¦‚ä¹Œé¸¦èˆ¬æœºæ™ºã€‚

- **åä½œ**ï¼šé€šè¿‡å¤§æ¨¡å‹å‡½æ•°è°ƒç”¨ï¼ˆFunction Callingï¼‰å’Œ MCP æœåŠ¡è°ƒåº¦ï¼Œå®ç°å·¥å…·ååŒã€‚

## ğŸ‘€ é¡¹ç›®æ¼”ç¤º

![demo](assets/demo.gif)

## ğŸš€ å¿«é€Ÿå¼€å§‹

æœ¬é¡¹ç›®åŸºäº go 1.24.2 ç‰ˆæœ¬å¼€å‘ï¼Œä½¿ç”¨å‰é¡»æå‰å‡†å¤‡å¥½å¯¹åº”çš„ go è¯­è¨€ç¯å¢ƒã€‚

1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/Shinveam/crow.git
cd crow
```

2. åˆå§‹åŒ–é¡¹ç›®

```bash
go mod tidy
```

3. é¡¹ç›®é…ç½®
   - æŒ‰[é¡¹ç›®é…ç½®è¯´æ˜](config/README.md)ğŸ‘ˆè¿›è¡Œé…ç½®ã€‚

> è¯¥é¡¹ç›®æä¾›äº†ä¸¤ç§å¯åŠ¨æ–¹å¼ï¼Œå®Œæ•´çš„ä½“éªŒè¯­éŸ³äº¤äº’é¡»ä½¿ç”¨æ–¹å¼ä¸€ã€‚

### 1ï¸âƒ£ æ–¹å¼ä¸€ï¼šå¯ç”¨ websocket æœåŠ¡

```bash
go run cmd/ws-server/main.go
```

> æœ¬é¡¹ç›®æä¾›äº† html å’Œ python çš„å®¢æˆ·ç«¯ç¤ºä¾‹ï¼ˆä½äº `example/`ï¼‰ï¼Œè¿è¡Œå¯¹åº”å®¢æˆ·ç«¯å¯å®Œæ•´ä½“éªŒé¡¹ç›®æ•ˆæœã€‚

### 2ï¸âƒ£ æ–¹å¼äºŒï¼šå¯ç”¨å‘½ä»¤è¡Œäº¤äº’

```bash
go run cmd/agent-cli/main.go
```

## ğŸ”Œ å®¢æˆ·ç«¯å¯¹æ¥

### ğŸŒ æ¥å…¥è¯´æ˜

#### 1. æ¥å…¥æ–¹å¼

   - **Scheme**ï¼šwebsocket

   - **Port**ï¼š28080ï¼ˆå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼‰

   - **Path**ï¼š/crow/v1

#### 2. æ¥å…¥æµç¨‹

   1. å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿æ¥åï¼Œé¡»å‘é€æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬ï¼ˆopcode = 1ï¼‰çš„ hello æ¶ˆæ¯ï¼ˆè¯¦çœ‹ä¸‹æ–¹ hello è¯·æ±‚ï¼‰ï¼Œå‘é€å®ŒæˆåæœåŠ¡ç«¯ä¼šä¸‹å‘ hello çš„ç¡®è®¤æ¶ˆæ¯ï¼Œè¡¨ç¤ºä»»åŠ¡å¯åŠ¨æˆåŠŸï¼Œå¯ä»¥å¼€å§‹åé¢çš„äº¤äº’ï¼›

   2. å®¢æˆ·ç«¯å¯ä»¥é‡‡ç”¨æ–‡æœ¬çš„å’ŒéŸ³é¢‘çš„æ–¹å¼è¿›è¡Œäº¤äº’ï¼Œè‹¥é‡‡ç”¨æ–‡æœ¬ï¼Œé¡»å‘é€æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬çš„ chat æ¶ˆæ¯ï¼ˆè¯¦çœ‹ä¸‹æ–¹ chat è¯·æ±‚ï¼‰ï¼›
    
   3. è‹¥é‡‡ç”¨è¯­éŸ³äº¤äº’ï¼Œé¡»ä¸Šä¼ å¾…è¯†åˆ«éŸ³é¢‘ï¼Œæ¶ˆæ¯ç±»å‹è®¾ç½®ä¸ºå­—èŠ‚ï¼ˆopcode = 2ï¼‰ï¼Œæ¶ˆæ¯å†…å®¹ä¸ºéŸ³é¢‘å—æ•°æ®ï¼›

   4. æœåŠ¡ç«¯æ¶ˆæ¯**å‡é‡‡ç”¨æ–‡æœ¬ç±»å‹**ä¸‹å‘ï¼Œå†…å®¹ä¸º JSON åºåˆ—åŒ–åçš„æ•°æ®ï¼Œè¯¦çœ‹ä¸‹æ–¹å‚æ•°è¯´æ˜ï¼›

#### 3. å‚æ•°è¯´æ˜

<details>
<summary><strong>1. hello è¯·æ±‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šè®¾ç½®ä»»åŠ¡å‚æ•°å¹¶å¯åŠ¨ä»»åŠ¡  
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|          å‚æ•°å           |   ç±»å‹   |              æè¿°              | æ˜¯å¦å¿…å¡« |   é»˜è®¤å€¼    |
|:----------------------:|:------:|:----------------------------:|:----:|:--------:|
|          type          | string |          å›ºå®šä¸º hello           |  æ˜¯   |    æ—      |
|       enable_asr       |  bool  |           æ˜¯å¦å¯ç”¨ASR            |  å¦   |  false   |
|       enable_tts       |  bool  |           æ˜¯å¦å¯ç”¨TTS            |  å¦   |  false   |
|       asr_params       | object | ASRè®¾ç½®å‚æ•°ï¼ˆenable_asrä¸ºtrueæ—¶ç”Ÿæ•ˆï¼‰  |  å¦   |    æ—      |
|   asr_params.format    | string |           å¾…è¯†åˆ«éŸ³é¢‘æ ¼å¼            |  å¦   |   pcm    |
| asr_params.sample_rate |  int   |        å¾…è¯†åˆ«éŸ³é¢‘é‡‡æ ·ç‡ï¼Œå•ä½ï¼šHz        |  å¦   |  16000   |
|  asr_params.channels   |  int   |     å¾…è¯†åˆ«éŸ³é¢‘å£°é“æ•°ï¼Œ1ï¼šå•å£°é“ï¼Œ2ï¼šåŒå£°é“     |  å¦   |    1     |
|   asr_params.vad_eos   |  int   |    è¯­éŸ³æ´»åŠ¨æ£€æµ‹ï¼ˆVADï¼‰åç«¯ç‚¹æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’    |  å¦   |   800    |
| asr_params.enable_punc |  bool  |           æ˜¯å¦å¯ç”¨æ ‡ç‚¹ç¬¦å·           |  å¦   |  false   |
|  asr_params.language   | string |      è¯­ç§ï¼Œå¦‚ï¼šzhï¼ˆä¸­æ–‡ï¼‰ï¼Œenï¼ˆè‹±æ–‡ï¼‰      |  å¦   |    zh    |
|   asr_params.accent    | string | æ–¹è¨€ï¼Œmandarinï¼šæ™®é€šè¯ï¼›cantoneseï¼šç²¤è¯­ |  å¦   | mandarin |
|       tts_params       | object | TTSè®¾ç½®å‚æ•°ï¼ˆenable_ttsä¸ºtrueæ—¶ç”Ÿæ•ˆï¼‰  |  å¦   |    æ—      |
|   tts_params.speaker   | string |             å‘éŸ³äºº              |  å¦   |    æ—      |
|   tts_params.format    | string |           TTSéŸ³é¢‘æ ¼å¼            |  å¦   |   mp3    |
|    tts_params.speed    | float  |         è¯­é€Ÿï¼š[0.5-2.0]         |  å¦   |   1.0    |
|   tts_params.volume    |  int   |          éŸ³é‡ï¼š[0-100]          |  å¦   |    50    |
|    tts_params.pitch    | float  |         è¯­è°ƒï¼š[0.5-2.0]         |  å¦   |   1.0    |
| tts_params.sample_rate |  int   |         éŸ³é¢‘é‡‡æ ·ç‡ï¼Œå•ä½ï¼šHz          |  å¦   |  16000   |
|  tts_params.language   | string |      è¯­ç§ï¼Œå¦‚ï¼šzhï¼ˆä¸­æ–‡ï¼‰ï¼Œenï¼ˆè‹±æ–‡ï¼‰      |  å¦   |    zh    |

</details>

<details>
<summary><strong>2. hello å“åº”ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|          å‚æ•°å           |   ç±»å‹   |              æè¿°              | æ˜¯å¦å¿…é€‰ |
|:----------------------:|:------:|:----------------------------:|:----:|
|          type          | string |          å›ºå®šä¸º hello           |  æ˜¯   |
|       asr_params       | object | ASRè®¾ç½®å‚æ•°ï¼ˆenable_asrä¸ºtrueæ—¶ç”Ÿæ•ˆï¼‰  |  å¦   |
|   asr_params.format    | string |           å¾…è¯†åˆ«éŸ³é¢‘æ ¼å¼            |  å¦   |
| asr_params.sample_rate |  int   |        å¾…è¯†åˆ«éŸ³é¢‘é‡‡æ ·ç‡ï¼Œå•ä½ï¼šHz        |  å¦   |
|  asr_params.channels   |  int   |     å¾…è¯†åˆ«éŸ³é¢‘å£°é“æ•°ï¼Œ1ï¼šå•å£°é“ï¼Œ2ï¼šåŒå£°é“     |  å¦   |
|   asr_params.vad_eos   |  int   |    è¯­éŸ³æ´»åŠ¨æ£€æµ‹ï¼ˆVADï¼‰åç«¯ç‚¹æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’    |  å¦   |
| asr_params.enable_punc |  bool  |           æ˜¯å¦å¯ç”¨æ ‡ç‚¹ç¬¦å·           |  å¦   |
|  asr_params.language   | string |      è¯­ç§ï¼Œå¦‚ï¼šzhï¼ˆä¸­æ–‡ï¼‰ï¼Œenï¼ˆè‹±æ–‡ï¼‰      |  å¦   |
|   asr_params.accent    | string | æ–¹è¨€ï¼Œmandarinï¼šæ™®é€šè¯ï¼›cantoneseï¼šç²¤è¯­ |  å¦   |
|       tts_params       | object | TTSè®¾ç½®å‚æ•°ï¼ˆenable_ttsä¸ºtrueæ—¶ç”Ÿæ•ˆï¼‰  |  å¦   |
|   tts_params.speaker   | string |             å‘éŸ³äºº              |  å¦   |
|   tts_params.format    | string |           TTSéŸ³é¢‘æ ¼å¼            |  å¦   |
|    tts_params.speed    | float  |         è¯­é€Ÿï¼š[0.5-2.0]         |  å¦   |
|   tts_params.volume    |  int   |          éŸ³é‡ï¼š[0-100]          |  å¦   |
|    tts_params.pitch    | float  |         è¯­è°ƒï¼š[0.5-2.0]         |  å¦   |
| tts_params.sample_rate |  int   |         éŸ³é¢‘é‡‡æ ·ç‡ï¼Œå•ä½ï¼šHz          |  å¦   |
|  tts_params.language   | string |      è¯­ç§ï¼Œå¦‚ï¼šzhï¼ˆä¸­æ–‡ï¼‰ï¼Œenï¼ˆè‹±æ–‡ï¼‰      |  å¦   |

</details>

<details>
<summary><strong>3. abort è¯·æ±‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šå¯ä»¥åœ¨äº¤äº’è¿‡ç¨‹ä¸­å‘é€è¯¥è¯·æ±‚ï¼Œç”¨ä»¥æ‰“æ–­å½“å‰çš„äº¤äº’  
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

| å‚æ•°å  |   ç±»å‹   |    æè¿°     | æ˜¯å¦å¿…å¡« | é»˜è®¤å€¼ |
|:----:|:------:|:---------:|:----:|:---:|
| type | string | å›ºå®šä¸º abort |  æ˜¯   | æ—  |

</details>

<details>
<summary><strong>4. chat è¯·æ±‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šè¯·æ±‚æ–‡æœ¬  
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|    å‚æ•°å    |   ç±»å‹   |    æè¿°    | æ˜¯å¦å¿…å¡« | é»˜è®¤å€¼ |
|:---------:|:------:|:--------:|:----:|:---:|
|   type    | string | å›ºå®šä¸º chat |  æ˜¯   |  æ—   |
| chat_text | string | ç”¨æˆ·è¯·æ±‚è¯æœ¯æ–‡æœ¬ |  æ˜¯   |  æ—   |

</details>

<details>
<summary><strong>5. chat å“åº”ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šå“åº”æ–‡æœ¬ï¼Œæ–‡æœ¬è¯·æ±‚å’Œè¯­éŸ³è¯·æ±‚éƒ½ä¼šè¿”å›è¯¥ç±»å‹æ¶ˆæ¯ï¼Œç”¨ä»¥è¿”å›ç­”å¤è¯æœ¯  
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|    å‚æ•°å     |   ç±»å‹   |       æè¿°        | æ˜¯å¦å¿…é€‰ |
|:----------:|:------:|:---------------:|:----:|
|    type    | string |    å›ºå®šä¸º chat     |  æ˜¯   |
|    text    | string |      ç­”å¤è¯æœ¯       |  å¦   |

</details>

<details>
<summary><strong>6. asr å“åº”ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šASR å“åº”ç»“æœ 
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|  å‚æ•°å   |   ç±»å‹   |             æè¿°              | æ˜¯å¦å¿…é€‰ |
|:------:|:------:|:---------------------------:|:----:|
|  type  | string |           å›ºå®šä¸º asr           |  æ˜¯   |
| result | string |            è¯†åˆ«ç»“æœ             |  å¦   | 
| state  |  int   | è¯†åˆ«çŠ¶æ€ï¼Œ0ï¼šè¯†åˆ«ä¸­ï¼Œ1ï¼šå•å¥è¯†åˆ«ç»“æŸï¼Œ2ï¼šasrç»“æŸ |  å¦   |

</details>

<details>
<summary><strong>7. tts å“åº”ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šTTS å“åº”ç»“æœ
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|  å‚æ•°å  |   ç±»å‹   |        æè¿°         | æ˜¯å¦å¿…é€‰ |
|:-----:|:------:|:-----------------:|:----:|
| type  | string |      å›ºå®šä¸º tts      |  æ˜¯   |
| audio | string |  base64 ç¼–ç çš„éŸ³é¢‘æ•°æ®   |  å¦   | 
| state |  int   | è¯†åˆ«çŠ¶æ€ï¼Œ0ï¼šåˆæˆä¸­ï¼Œ1ï¼šåˆæˆç»“æŸ |  å¦   |

</details>

<details>
<summary><strong>8. é”™è¯¯å“åº”ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</strong></summary>

> **åŠŸèƒ½æè¿°**ï¼šé”™è¯¯å“åº”  
> **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ï¼ˆopcode = 1ï¼‰  
> **æ¶ˆæ¯æ ¼å¼**ï¼šJSON

|    å‚æ•°å     |   ç±»å‹   |       æè¿°       | æ˜¯å¦å¿…é€‰ |
|:----------:|:------:|:--------------:|:----:|
|    type    | string |   å›ºå®šä¸º error    |  æ˜¯   |
| error_code |  int   | é”™è¯¯ç ï¼Œ0ï¼šæ­£å¸¸ï¼Œé0ï¼šå¼‚å¸¸ |  æ˜¯   |
| error_msg  | string |      é”™è¯¯æ¶ˆæ¯      |  å¦   |

</details>

### â±ï¸ æ—¶åºå›¾

![æ—¶åºå›¾](assets/timing.png)

## ğŸ“ TODO

- [ ] å®¢æˆ·ç«¯è¯·æ±‚è®¤è¯ï¼›
- [ ] åå°ç®¡ç†ç•Œé¢ï¼›
- [ ] è§†è§‰æ¨¡å‹æ”¯æŒï¼›

## ğŸ™ å¼€æºè‡´è°¢

æ„Ÿè°¢ [OpenManus](https://github.com/FoundationAgents/OpenManus) ä¸ºæœ¬é¡¹ç›®æä¾›çµæ„Ÿå’Œä»£ç å€Ÿé˜…ã€‚

## ğŸ™‹ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue åé¦ˆé—®é¢˜æˆ–å»ºè®®ï¼Œæˆ–è€…é€šè¿‡ Pull Request è´¡çŒ®æ‚¨çš„ä»£ç ï¼Œå…±åŒæ¨åŠ¨é¡¹ç›®è¿›æ­¥ï¼Œä¸€èµ·æˆé•¿ï¼

## ğŸŒŸ æ˜Ÿæ ‡å†å²

[//]: # ([![Star History Chart]&#40;https://api.star-history.com/svg?repos=Shinveam/crow&type=Date&#41;]&#40;https://star-history.com/#Shinveam/crow&Date&#41;)
